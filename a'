console.log("Starting content script...");

const interval = setInterval(() => {
  const post = document.querySelector(".scaffold-finite-scroll__content");

  if (post) {
    console.log("Target element found:", post);
    clearInterval(interval); // Stop checking once found

    const callback = (mlist, observer) => {
      console.log(mlist);
      // for (const m of mlist) {
      //   if (m.type === "childList") {
      //     console.log("ChildList mutation observed:", m);
      //   }
      // }
      setTimeout(() => {
        const pt = document.querySelectorAll(".artdeco-card");
        console.log(pt);
      }, "500");
    };

    observer = new MutationObserver(callback);

    const config = { childList: true };

    observer.observe(post, config);
  } else {
    console.log("Waiting for .scaffold-finite-scroll__content...");
  }
}, 500); // Check every 500ms
